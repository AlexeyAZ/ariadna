{"version":3,"sources":["app.js"],"names":["$","body","thanksLocation","wlLand","name","moveEl","elClass","containerClass","document","querySelector","el","container","appendChild","sec2MoveImg","window","matchMedia","matches","sec5MoveBtn","sec9Move","addEventListener","length","rangeslider","polyfill","webshim","setOptions","lazyCustomMessages","replaceValidationUI","phoneLink","md","MobileDetect","navigator","userAgent","mobile","attr","data","removeClass","addClass","inputmask","greedy","clearIncomplete","onKeyDown","event","buffer","caretPos","opts","on","e","preventDefault","self","target","hasClass","wl","callbacks","onFormSubmit","$form","res","status","smallFormHandler","def","bigFormHandler","submit","formAction","smallFormWrap","bigFormWrap","openSmallForm","documentElement","classList","add","openBigForm","callback","closeSmallForm","remove","closeBigForm","setInputValues","userInfo","localStorage","getItem","JSON","parse","val","phone","email","city","setInputTitle","titleVal","innerText","forms","querySelectorAll","inputTitles","i","form","insertBefore","createInputEl","firstElementChild","j","input","value","createElement","type","selfName","find","selfPhone","selfEmail","selfCity","formData","serialize","landUserInfo","setItem","stringify","ajax","url","success","location","thanksPageHandler","isThanksPage","text"],"mappings":"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","file":"app.js","sourcesContent":["/*global webshim $ wl MobileDetect*/\r\n\r\n$(function() {\r\n\r\n    var body = $(\"body\");\r\n    var thanksLocation = \"thanks.html\";\r\n    var wlLand = false;\r\n    var name;\r\n\r\n    function moveEl(elClass, containerClass) {\r\n\r\n        if (document.querySelector(elClass)) {\r\n            var el = document.querySelector(elClass);\r\n            var container = document.querySelector(containerClass);\r\n\r\n            container.appendChild(el);\r\n        }\r\n    }\r\n\r\n    function sec2MoveImg() {\r\n\r\n        if (window.matchMedia(\"(max-width:1024px)\").matches) {\r\n            moveEl(\".sec2__img\", \".sec2__list-wrap\");\r\n        } else {\r\n            moveEl(\".sec2__img\", \".sec2\");\r\n        }\r\n    }\r\n\r\n    sec2MoveImg();\r\n\r\n    function sec5MoveBtn() {\r\n\r\n        if(window.matchMedia(\"(max-width: 768px)\").matches) {\r\n            moveEl(\".sec5__btn\", \".sec5__col_border\");\r\n        } else {\r\n            moveEl(\".sec5__btn\", \".sec5__border\");\r\n        }\r\n    }\r\n\r\n    sec5MoveBtn();\r\n\r\n    function sec9Move() {\r\n\r\n        if(window.matchMedia(\"(max-width: 1024px)\").matches) {\r\n            moveEl(\".sec9__img\", \".sec9__content\");\r\n            moveEl(\".sec9__text\", \".sec9__container\");\r\n        } else {\r\n            moveEl(\".sec9__img\", \".sec9__bottom\");\r\n            moveEl(\".sec9__text\", \".sec9__content\");\r\n        }\r\n    }\r\n\r\n    sec9Move();\r\n\r\n    window.addEventListener(\"resize\", function() {\r\n        sec2MoveImg();\r\n        sec5MoveBtn();\r\n        sec9Move();\r\n    });\r\n\r\n    if ($('input[type=\"range\"]').length) {\r\n        $('input[type=\"range\"]').rangeslider({\r\n            polyfill: false,\r\n        });\r\n    }\r\n\r\n    webshim.setOptions('forms', {\r\n        lazyCustomMessages: true,\r\n        replaceValidationUI: true\r\n    });\r\n    webshim.polyfill('forms');\r\n\r\n    function phoneLink() {\r\n        var md = new MobileDetect(window.navigator.userAgent);\r\n        var phoneLink = $(\"[data-phone]\");\r\n\r\n        if (md.mobile()) {\r\n            phoneLink.attr(\"href\", \"tel:\" + $(\".phone-link\").data(\"phone\"));\r\n            phoneLink.removeClass(\"js-small-btn\");\r\n        } else {\r\n            phoneLink.attr(\"href\", \"\");\r\n            phoneLink.addClass(\"js-small-btn\");\r\n        }\r\n    }\r\n    phoneLink();\r\n\r\n    // form handler\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9 999 999-9999\",\r\n        greedy: false,\r\n        clearIncomplete: true,\r\n        \"oncomplete\": function(){\r\n            $(this).addClass(\"input_success\");\r\n        },\r\n        onKeyDown: function(event, buffer, caretPos, opts) {\r\n\r\n            if (buffer[buffer.length - 1] === \"_\") {\r\n                $(this).removeClass(\"input_success\");\r\n            } else {\r\n                $(this).addClass(\"input_success\");\r\n            }\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            $(\"html\").addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n        \r\n        if (self.hasClass(\"form-wrap\") || self.hasClass(\"form__close\")){\r\n            $(\"html\").removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        } \r\n    });\r\n\r\n    if (typeof wl != \"undefined\") {\r\n        wlLand = true;\r\n\r\n        wl.callbacks.onFormSubmit = function ($form, res) {\r\n            if ($form.data('next')) {\r\n            \r\n                if(res.status == 200) {\r\n                    smallFormHandler($form);\r\n                } else {  \r\n                    wl.callbacks.def.onFormSubmit($form, res);\r\n                }\r\n            } else {\r\n                bigFormHandler($form);\r\n            }\r\n        };\r\n    } else {\r\n        wlLand = false;\r\n\r\n        $(\"#smallForm, #bottomForm\").submit(function(e) {\r\n            e.preventDefault();\r\n            var self = $(this);\r\n\r\n            smallFormHandler(self);\r\n        });\r\n\r\n        $(\"#bigForm\").submit(function(e) {\r\n            e.preventDefault();\r\n            var self = $(this);\r\n\r\n            bigFormHandler(self);\r\n        });\r\n    }\r\n\r\n    function formAction() {\r\n        var smallFormWrap = document.querySelector(\".form-wrap_small\");\r\n        var bigFormWrap = document.querySelector(\".form-wrap_big\");\r\n\r\n        return {\r\n\r\n            openSmallForm: function() {\r\n                document.documentElement.classList.add(\"form-open\");\r\n                smallFormWrap.classList.add(\"form-wrap_open\");\r\n            },\r\n\r\n            openBigForm: function(callback) {\r\n                document.documentElement.classList.add(\"form-open\");\r\n                bigFormWrap.classList.add(\"form-wrap_open\");\r\n                callback();\r\n            },\r\n\r\n            closeSmallForm: function() {\r\n                document.documentElement.classList.remove(\"form-open\");\r\n                smallFormWrap.classList.remove(\"form-wrap_open\");\r\n            },\r\n\r\n            closeBigForm: function() {\r\n                document.documentElement.classList.remove(\"form-open\");\r\n                bigFormWrap.classList.remove(\"form-wrap_open\");\r\n            },\r\n\r\n            setInputValues: function() {\r\n                var userInfo;\r\n\r\n                if (localStorage.getItem(\"landUserInfo\")) {\r\n                    userInfo = JSON.parse(localStorage.getItem(\"landUserInfo\"));\r\n                }\r\n                \r\n                $(\"[name=name1]\").val(userInfo.name);\r\n                $(\"[name=phone1]\").val(userInfo.phone);\r\n                $(\"[name=email1]\").val(userInfo.email);\r\n\r\n                if (userInfo.city !== \"\") {\r\n                    $(\"[name=city]\").val(userInfo.city);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function setInputTitle() {\r\n        var titleVal = document.querySelector(\"title\").innerText;\r\n        var forms = document.querySelectorAll(\"form\");\r\n        var inputTitles;\r\n        \r\n        for (var i = 0; i < forms.length; i++) {\r\n            var form = forms[i];\r\n            form.insertBefore(createInputEl(), form.firstElementChild);\r\n        }\r\n\r\n        inputTitles = document.querySelectorAll(\".js-hidden-title\");\r\n\r\n        for (var j = 0; j < inputTitles.length; j++) {\r\n            var input = inputTitles[j];\r\n            input.value = titleVal;\r\n        }\r\n\r\n        function createInputEl() {\r\n            var input = document.createElement(\"input\");\r\n            input.classList.add(\"js-hidden-title\");\r\n            input.name = \"title\";\r\n            input.type = \"hidden\";\r\n            \r\n            return input;\r\n        }\r\n    }\r\n    setInputTitle();\r\n\r\n    function smallFormHandler(form) {\r\n\r\n        var selfName = form.find(\"input[name=name]\");\r\n        var selfPhone = form.find(\"input[name=phone]\");\r\n        var selfEmail = form.find(\"input[name=email]\");\r\n        var selfCity = form.find(\"input[name=city]\");\r\n        var formData = form.serialize();\r\n\r\n        var landUserInfo = {\r\n            \"name\": selfName.val(),\r\n            \"phone\": selfPhone.val(),\r\n            \"email\": selfEmail.val(),\r\n            \"city\": selfCity.val()\r\n        }\r\n\r\n        localStorage.setItem(\"landUserInfo\", JSON.stringify(landUserInfo));\r\n\r\n        name = selfName.val();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/send.php\",\r\n            data: formData,\r\n            success: function() {\r\n                window.location = thanksLocation;\r\n            }\r\n        });\r\n\r\n        if (name) {\r\n            localStorage.setItem(\"landclientname\", name + \", наши\");\r\n        } else {\r\n            localStorage.setItem(\"landclientname\", \"Наши\");\r\n        }\r\n    }\r\n\r\n    function bigFormHandler(form) {\r\n        var formData;\r\n        formData = form.serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/sendpresent.php\",\r\n            data: formData,\r\n            success: function() {\r\n                formAction().closeBigForm();\r\n            }\r\n        });\r\n    }\r\n\r\n    function thanksPageHandler() {\r\n\r\n        if (isThanksPage()) {\r\n            formAction().openBigForm(formAction().setInputValues);\r\n            $(\"#thanksName\").text(localStorage.getItem(\"landclientname\"));\r\n        }\r\n\r\n        function isThanksPage() {\r\n\r\n            if ( document.querySelector(\".thanks\") ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    thanksPageHandler();\r\n});"]}